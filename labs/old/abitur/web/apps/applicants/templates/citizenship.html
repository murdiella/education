{% extends 'base.html' %}

{% block main %}
    <div class=" card-holder">
        <form
                id="form-citizenship"
                method="POST"
        >
            <input
                    name="country_code"
                    id="country_code"
                    value="999"
                    hidden
            />

            <div class="d-lg-flex">
                <div class="card card_white d-flex flex-column justify-content-center" style="min-width:45%;">
                    <div class="mb-3 mb-lg-5">
                        <h6 class="text-center px-5 pt-5 pb-3 m-0">Я являюсь гражданином Российской Федерации</h6>
                    </div>
                    <div class="mb-5 text-center">
                        <input
                                type="submit"
                                value="Подать заявление"
                                name="submit-button"
                                onclick="setCitizenship(643)"
                                class="d-inlineblock button button_lg button_blue"
                        />
                    </div>
                </div>
                <div class="card card_white d-flex justify-content-center">
                    <div class="mb-3 mb-lg-5">
                        <h6 class="text-center px-5 pt-5 pb-3 m-0">Я являюсь гражданином другого государства</h6>
                    </div>
                    <div class="mb-5 text-center">
                        <button
                                type="button"
                                class='d-inlineblock button button_lg button_blue'
                                data-target="#citizenship-modal"
                                data-toggle="modal"
                        >
                            Выбрать страну
                        </button>
                    </div>
                </div>
            </div>
            <div
                    class="modal fade"
                    id="citizenship-modal"
                    role="dialog"
                    aria-hidden="true"
            >
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Я являюсь гражданином другого
                                государства</h5>
                        </div>
                        <div class="modal-body">
                            <select
                                    id="list_country_code"
                                    name="country"
                                    class="custom-select"
                            >
                                {% for country in countries %}
                                    <option value="{{ country.code }}">
                                        {{ country.name }}
                                    </option>
                                {% endfor %}

                            </select>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
                            <input type="submit" class="btn btn-primary"
                                   name="submit-button"
                                   onclick="setForeignCitizenship()"
                                   value="Далее"
                            />
                        </div>
                    </div>
                </div>
            </div>
            {% csrf_token %}
        </form>
    </div>



    <script>
        function setCitizenship(countryCode) {
            $('#country_code').val('643');
        }

        function setForeignCitizenship() {
            $('#country_code').val($('#list_country_code').val());
        }

    </script>

{% endblock %}
